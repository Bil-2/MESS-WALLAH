# MESS WALLAH - Backend Environment Variables
# Copy this to .env and fill in your actual values

# ==========================================
# SERVER CONFIGURATION
# ==========================================

NODE_ENV=development
PORT=5001
BASE_URL=http://localhost:5001

# ==========================================
# FRONTEND CONFIGURATION
# ==========================================

FRONTEND_URL=http://localhost:5173
CLIENT_URL=http://localhost:5173

# ==========================================
# DATABASE
# ==========================================

# MongoDB Connection String
# Local: mongodb://localhost:27017/mess-wallah
# Production: mongodb+srv://username:password@cluster.mongodb.net/mess-wallah
MONGODB_URI=mongodb://localhost:27017/mess-wallah

# ==========================================
# AUTHENTICATION & SECURITY
# ==========================================

# JWT Secret (Generate using: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))")
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRE=7d

# Session Secret (Generate using: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))")
SESSION_SECRET=your-session-secret-change-this

# Bcrypt Rounds (10-12 for production)
BCRYPT_ROUNDS=10

# ==========================================
# PAYMENT GATEWAY - RAZORPAY
# ==========================================

# Get from: https://dashboard.razorpay.com/app/keys
RAZORPAY_KEY_ID=your_razorpay_key_id
RAZORPAY_KEY_SECRET=your_razorpay_key_secret

# ==========================================
# GOOGLE OAUTH
# ==========================================

# Get from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
GOOGLE_CALLBACK_URL=http://localhost:5001/api/auth/google/callback

# For production, update to:
# GOOGLE_CALLBACK_URL=https://your-backend-url.com/api/auth/google/callback

# ==========================================
# CLOUD STORAGE - CLOUDINARY
# ==========================================

# Get from: https://cloudinary.com/console
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret

# ==========================================
# EMAIL SERVICE - SENDGRID
# ==========================================

# Get from: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=your_sendgrid_api_key
EMAIL_FROM=noreply@messwallah.com
EMAIL_FROM_NAME=MESS WALLAH

# Alternative: Nodemailer (if not using SendGrid)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your_email@gmail.com
# SMTP_PASS=your_app_password

# ==========================================
# SMS SERVICE - TWILIO
# ==========================================

# Get from: https://www.twilio.com/console
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# ==========================================
# RATE LIMITING
# ==========================================

RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ==========================================
# CORS CONFIGURATION
# ==========================================

# Allowed origins (comma-separated for production)
# Production example: https://messwallah.com,https://www.messwallah.com
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# ==========================================
# FILE UPLOAD
# ==========================================

MAX_FILE_SIZE=10485760
UPLOAD_PATH=./uploads

# ==========================================
# FIREBASE (Optional - for push notifications)
# ==========================================

# FIREBASE_PROJECT_ID=your-project-id
# FIREBASE_PRIVATE_KEY=your-private-key
# FIREBASE_CLIENT_EMAIL=your-client-email

# ==========================================
# LOGGING
# ==========================================

LOG_LEVEL=info

# ==========================================
# QUICK START GUIDE
# ==========================================

# 1. Copy this file to .env
#    cp .env.example .env

# 2. Generate secure secrets:
#    JWT_SECRET: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#    SESSION_SECRET: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

# 3. Sign up for required services:
#    - MongoDB Atlas (database)
#    - Razorpay (payments)
#    - Google Cloud Console (OAuth)
#    - Cloudinary (image storage)
#    - SendGrid (email)
#    - Twilio (SMS)

# 4. Fill in all API keys and secrets above

# 5. Start MongoDB locally:
#    npm run mongo:start

# 6. Start the server:
#    npm run dev

# ==========================================
# PRODUCTION CHECKLIST
# ==========================================

# Before deploying to production:
# [ ] Change NODE_ENV to 'production'
# [ ] Update BASE_URL to your domain
# [ ] Update FRONTEND_URL to your deployed frontend
# [ ] Use MongoDB Atlas connection string
# [ ] Generate new strong JWT_SECRET
# [ ] Generate new strong SESSION_SECRET
# [ ] Update GOOGLE_CALLBACK_URL to production URL
# [ ] Add production domain to ALLOWED_ORIGINS
# [ ] Never commit .env file to Git!

# ==========================================
# SECURITY REMINDERS
# ==========================================

# - Never share your .env file
# - Use strong, unique secrets
# - Rotate API keys regularly
# - Enable 2FA on all service accounts
# - Monitor logs for suspicious activity
