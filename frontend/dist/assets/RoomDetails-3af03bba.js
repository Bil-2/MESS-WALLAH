import{H as oe,u as ne,e as de,r as d,z as o,j as e,L as ce,m as r,I as xe,J as _,G as N,K as me,v as J,d as ge,a as he,M as ue,F as y,N as pe,O as be,k as U,h as X,P as Q,p as ye,y as fe}from"./index-2ba54131.js";import{A as je}from"./index-4cfa389c.js";const ve=()=>{var S,R,F,P,A,L,B,M,I,T,$,H,E,q,z,O,K,G,V,W;const{id:x}=oe(),g=ne(),{user:f}=de(),[a,j]=d.useState(null),[Y,C]=d.useState(!0),[n,k]=d.useState(0),[u,Z]=d.useState(!1),[ee,h]=d.useState(!1),[ae,p]=d.useState(!1),[c,b]=d.useState(0),[l,w]=d.useState(1),[s,m]=d.useState({checkInDate:"",duration:1,specialRequests:"",guestDetails:{name:"",email:"",phone:""}});d.useEffect(()=>{te()},[x]);const te=async()=>{try{C(!0);const t=await fetch(`/api/rooms/${x}`);if(t.ok){const v=await t.json();if(v.success&&v.data){j(v.data),o.success("Room details loaded successfully");return}}const i=D(x);j(i),o.error("Failed to load room details. Showing demo data.")}catch(t){console.error("Error fetching room details:",t);const i=D();j(i),o.error("Failed to load room details. Showing demo data.")}finally{C(!1)}},D=()=>({_id:x,title:"Cozy Student Room near College",description:"A comfortable and well-furnished room perfect for students. Located in the heart of Koramangala with easy access to colleges, restaurants, and public transport.",address:{area:"Koramangala",city:"Bangalore",state:"Karnataka",pincode:"560034"},rentPerMonth:8500,securityDeposit:5e3,rating:4.5,reviewCount:23,photos:[{url:"https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800&h=600&fit=crop",caption:"Main room view"},{url:"https://images.unsplash.com/photo-1584622650111-993a426fbf0a?w=800&h=600&fit=crop",caption:"Bathroom"},{url:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=800&h=600&fit=crop",caption:"Common area"},{url:"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=800&h=600&fit=crop",caption:"Kitchen"}],amenities:["wifi","parking","mess","laundry","security"],roomType:"single",isAvailable:!0,features:["Fully furnished room","Attached bathroom","Study table and chair","Wardrobe","24/7 security","Common kitchen access"],owner:{_id:"owner1",name:"Rajesh Kumar",phone:"+91 9876543210",email:"rajesh@example.com",verified:!0},rules:["No smoking","No pets","Visitors allowed till 10 PM"],preferences:["Students preferred","Working professionals welcome"]}),se=()=>{if(!f){o.error("Please login to book this room"),g("/login");return}h(!0)},re=async()=>{if(!f){o.error("Please login to add favorites"),g("/login");return}try{u?(await Q.delete(`/users/favorites/${x}`),o.success("Removed from favorites")):(await Q.post(`/users/favorites/${x}`),o.success("Added to favorites")),Z(!u)}catch(t){console.error("Error toggling favorite:",t),o.error("Failed to update favorites")}},ie=()=>{var t;if(!f){o.error("Please login to contact owner"),g("/login");return}(t=a==null?void 0:a.owner)!=null&&t.phone?window.open(`tel:${a.owner.phone}`,"_self"):o.error("Owner contact information not available")},le={wifi:e.jsx(ye,{className:"w-5 h-5"}),parking:e.jsx(fe,{className:"w-5 h-5"}),mess:e.jsx(y,{className:"w-5 h-5"}),laundry:e.jsx(y,{className:"w-5 h-5"}),security:e.jsx(X,{className:"w-5 h-5"})};return Y?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center pt-24",children:e.jsx(ce,{size:"large",text:"Loading room details..."})}):a?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-pink-50 to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 transition-colors duration-200",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-24 pb-8",children:[e.jsxs(r.button,{type:"button",onClick:()=>g("/rooms"),className:"flex items-center text-gray-600 dark:text-gray-400 hover:text-orange-500 dark:hover:text-orange-400 mb-8 transition-colors group",whileHover:{x:-5},initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:[e.jsx(xe,{className:"w-5 h-5 mr-2 group-hover:animate-pulse"}),"Back to Rooms"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs(r.div,{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-xl rounded-2xl shadow-xl overflow-hidden mb-8 border border-gray-200 dark:border-gray-700",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsxs("div",{className:"relative group",children:[e.jsx(r.img,{src:((R=(S=a.photos)==null?void 0:S[n])==null?void 0:R.url)||((F=a.photos)==null?void 0:F[n])||"https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800&h=600&fit=crop",alt:((A=(P=a.photos)==null?void 0:P[n])==null?void 0:A.caption)||a.title,className:"w-full h-96 object-cover cursor-pointer",onClick:()=>{b(n),p(!0)},initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}},n),a.photos&&a.photos.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>k(n>0?n-1:a.photos.length-1),className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/50 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-black/70",children:e.jsx(_,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>k(n<a.photos.length-1?n+1:0),className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/50 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-black/70",children:e.jsx(N,{className:"w-5 h-5"})})]}),e.jsx("button",{onClick:()=>{b(n),p(!0)},className:"absolute top-4 right-4 bg-black/50 text-white p-2 rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-black/70",children:e.jsx(me,{className:"w-4 h-4"})}),a.photos&&a.photos.length>1&&e.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/50 text-white px-3 py-1 rounded-full text-sm",children:[n+1," / ",a.photos.length]})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-2",children:(a.photos||[]).map((t,i)=>e.jsx(r.button,{onClick:()=>k(i),className:`flex-shrink-0 w-24 h-20 rounded-xl overflow-hidden border-3 transition-all duration-300 ${n===i?"border-orange-500 shadow-lg scale-105":"border-gray-200 dark:border-gray-600 hover:border-orange-300"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx("img",{src:t.url||t||"https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=150&h=120&fit=crop",alt:t.caption||`View ${i+1}`,className:"w-full h-full object-cover"})},i))})})]}),e.jsxs(r.div,{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-xl rounded-2xl shadow-xl p-8 mb-8 border border-gray-200 dark:border-gray-700",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(r.h1,{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-orange-500 to-pink-500 bg-clip-text text-transparent mb-3",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},children:a.title}),e.jsxs(r.div,{className:"flex items-center text-gray-600 dark:text-gray-400 mb-3 text-lg",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.3},children:[e.jsx(J,{className:"w-5 h-5 mr-2 text-orange-500"}),e.jsxs("span",{children:[(L=a.address)==null?void 0:L.area,", ",(B=a.address)==null?void 0:B.city]})]}),e.jsx(r.div,{className:"flex items-center",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.4},children:e.jsxs("div",{className:"flex items-center bg-yellow-50 dark:bg-yellow-900/20 px-3 py-1 rounded-full",children:[e.jsx(ge,{className:"w-4 h-4 text-yellow-500 mr-1 fill-current"}),e.jsx("span",{className:"text-gray-900 dark:text-white font-semibold mr-1",children:a.rating||4.5}),e.jsxs("span",{className:"text-gray-600 dark:text-gray-400 text-sm",children:["(",a.reviewCount||0," reviews)"]})]})})]}),e.jsxs(r.div,{className:"flex space-x-3",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.5},children:[e.jsx(r.button,{onClick:re,className:`p-3 rounded-full transition-all duration-300 ${u?"bg-red-100 text-red-600 dark:bg-red-900 dark:text-red-400 scale-110":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400 hover:bg-red-50 hover:text-red-500"}`,whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(he,{className:`w-6 h-6 ${u?"fill-current":""}`})}),e.jsx(r.button,{onClick:()=>{var t;(t=navigator.share)==null||t.call(navigator,{title:a.title,text:`Check out this room: ${a.title}`,url:window.location.href}).catch(()=>{navigator.clipboard.writeText(window.location.href),o.success("Link copied to clipboard!")})},className:"p-3 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded-full hover:bg-orange-50 hover:text-orange-500 dark:hover:bg-orange-900/20 transition-all duration-300",whileHover:{scale:1.1},whileTap:{scale:.9},children:e.jsx(ue,{className:"w-6 h-6"})})]})]}),e.jsxs(r.div,{className:"border-t border-gray-200 dark:border-gray-700 pt-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Description"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 leading-relaxed text-lg",children:a.description})]})]}),e.jsxs(r.div,{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-xl rounded-2xl shadow-xl p-8 mb-8 border border-gray-200 dark:border-gray-700",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[e.jsx("h3",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6",children:"Amenities"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:(a.amenities||[]).map((t,i)=>e.jsxs(r.div,{className:"flex items-center p-4 bg-gradient-to-r from-orange-50 to-pink-50 dark:from-gray-700 dark:to-gray-600 rounded-xl hover:shadow-lg transition-all duration-300 border border-orange-100 dark:border-gray-600",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:i*.1},whileHover:{scale:1.05,y:-2},children:[e.jsx("div",{className:"text-orange-500 dark:text-orange-400 mr-3",children:le[t]||e.jsx(y,{className:"w-5 h-5"})}),e.jsx("span",{className:"text-gray-900 dark:text-white capitalize font-medium",children:t})]},t))})]}),a.features&&a.features.length>0&&e.jsxs(r.div,{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-xl rounded-2xl shadow-xl p-8 mb-8 border border-gray-200 dark:border-gray-700",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[e.jsx("h3",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6",children:"Room Features"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.features.map((t,i)=>e.jsxs(r.div,{className:"flex items-center p-3 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-gray-700 dark:to-gray-600 rounded-lg border border-green-100 dark:border-gray-600",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:i*.1},whileHover:{x:5},children:[e.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full mr-4 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:t})]},i))})]}),(((M=a.rules)==null?void 0:M.length)>0||((I=a.preferences)==null?void 0:I.length)>0)&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 transition-colors duration-200",children:[a.rules&&a.rules.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"House Rules"}),e.jsx("ul",{className:"space-y-2",children:a.rules.map((t,i)=>e.jsxs("li",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-3"}),t]},i))})]}),a.preferences&&a.preferences.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Tenant Preferences"}),e.jsx("ul",{className:"space-y-2",children:a.preferences.map((t,i)=>e.jsxs("li",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),t]},i))})]})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(r.div,{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-xl rounded-2xl shadow-2xl p-8 sticky top-8 border border-gray-200 dark:border-gray-700",initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.4},children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs(r.div,{className:"text-4xl font-bold bg-gradient-to-r from-orange-500 to-pink-500 bg-clip-text text-transparent mb-2",initial:{scale:.8},animate:{scale:1},transition:{duration:.5,delay:.5},children:["₹",((T=a.rentPerMonth)==null?void 0:T.toLocaleString())||"8,500"]}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400 text-lg font-medium",children:"per month"}),a.securityDeposit&&e.jsxs(r.div,{className:"text-sm text-gray-500 dark:text-gray-400 mt-2 p-2 bg-gray-50 dark:bg-gray-700 rounded-lg",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},children:["+ ₹",a.securityDeposit.toLocaleString()," security deposit"]})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Room Type"}),e.jsx("div",{className:"px-3 py-2 bg-gray-50 dark:bg-gray-700 rounded-md text-gray-900 dark:text-white capitalize",children:a.roomType||"Single"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Availability"}),e.jsx("div",{className:`px-3 py-2 rounded-md text-center font-medium ${a.isAvailable?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:a.isAvailable?"Available Now":"Not Available"})]})]}),e.jsx(r.button,{onClick:se,disabled:!a.isAvailable,className:"w-full bg-gradient-to-r from-orange-500 to-pink-500 text-white py-4 rounded-xl hover:shadow-lg disabled:bg-gray-400 disabled:cursor-not-allowed transition-all duration-300 font-semibold text-lg mb-4",whileHover:{scale:a.isAvailable?1.02:1,y:a.isAvailable?-2:0},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},children:a.isAvailable?"Book Now":"Not Available"}),e.jsx(r.button,{onClick:ie,className:"w-full border-2 border-orange-500 text-orange-500 dark:text-orange-400 py-4 rounded-xl hover:bg-orange-50 dark:hover:bg-orange-900/20 transition-all duration-300 font-semibold text-lg",whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},children:"Contact Owner"}),a.owner&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Property Owner"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center mr-3",children:e.jsx(y,{className:"w-6 h-6 text-gray-500 dark:text-gray-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[a.owner.name,a.owner.verified&&e.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"Verified"})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1",children:[a.owner.phone&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(pe,{className:"w-3 h-3 mr-1"}),a.owner.phone]}),a.owner.email&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(be,{className:"w-3 h-3 mr-1"}),a.owner.email]})]})]})]})]})]})})]}),e.jsx(je,{children:ae&&e.jsx(r.div,{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>p(!1),children:e.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[e.jsx(r.img,{src:((H=($=a.photos)==null?void 0:$[c])==null?void 0:H.url)||((E=a.photos)==null?void 0:E[c])||"https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=1200&h=800&fit=crop",alt:((z=(q=a.photos)==null?void 0:q[c])==null?void 0:z.caption)||a.title,className:"max-w-full max-h-full object-contain rounded-lg",initial:{scale:.8},animate:{scale:1},exit:{scale:.8},onClick:t=>t.stopPropagation()}),e.jsx("button",{onClick:()=>p(!1),className:"absolute top-4 right-4 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition-colors",children:e.jsx(U,{className:"w-6 h-6"})}),a.photos&&a.photos.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:t=>{t.stopPropagation(),b(c>0?c-1:a.photos.length-1)},className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/50 text-white p-3 rounded-full hover:bg-black/70 transition-colors",children:e.jsx(_,{className:"w-6 h-6"})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),b(c<a.photos.length-1?c+1:0)},className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/50 text-white p-3 rounded-full hover:bg-black/70 transition-colors",children:e.jsx(N,{className:"w-6 h-6"})})]}),a.photos&&a.photos.length>1&&e.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/50 text-white px-4 py-2 rounded-full",children:[c+1," / ",a.photos.length]})]})})}),ee&&e.jsx(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>h(!1),children:e.jsxs(r.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-hidden",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"bg-gradient-to-r from-orange-500 via-pink-500 to-purple-500 p-6 text-white relative",children:[e.jsx("button",{onClick:()=>h(!1),className:"absolute top-4 right-4 text-white/80 hover:text-white transition-colors",children:e.jsx(U,{className:"w-6 h-6"})}),e.jsxs("h3",{className:"text-xl font-bold mb-2",children:["Book ",(a==null?void 0:a.roomType)==="studio"?"Studio Apartment":"Room"," in ",((O=a==null?void 0:a.address)==null?void 0:O.area)||"Location"]}),e.jsxs("div",{className:"flex items-center gap-2 text-white/90",children:[e.jsx(J,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:[(K=a==null?void 0:a.address)==null?void 0:K.area,", ",(G=a==null?void 0:a.address)==null?void 0:G.city]})]}),e.jsx("div",{className:"flex items-center justify-center mt-6 space-x-8",children:[1,2,3].map(t=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${l>=t?"bg-white text-orange-500":"bg-white/20 text-white/60"}`,children:t}),t<3&&e.jsx("div",{className:`w-16 h-0.5 mx-2 ${l>t?"bg-white":"bg-white/20"}`})]},t))})]}),e.jsxs("div",{className:"p-6 max-h-96 overflow-y-auto",children:[l===1&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Booking Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Check-in Date *"}),e.jsx("input",{type:"date",value:s.checkInDate,onChange:t=>m({...s,checkInDate:t.target.value}),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 dark:bg-gray-700 dark:text-white",placeholder:"dd/mm/yyyy"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Duration (months) *"}),e.jsx("select",{value:s.duration,onChange:t=>m({...s,duration:parseInt(t.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 dark:bg-gray-700 dark:text-white",children:[1,2,3,4,5,6,7,8,9,10,11,12].map(t=>e.jsxs("option",{value:t,children:[t," month",t>1?"s":""]},t))})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Monthly Rent:"}),e.jsxs("span",{className:"font-medium",children:["₹",((V=a==null?void 0:a.rentPerMonth)==null?void 0:V.toLocaleString())||"8,309"]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Duration:"}),e.jsxs("span",{className:"font-medium",children:[s.duration," month",s.duration>1?"s":""]})]}),e.jsx("hr",{className:"my-2 border-gray-200 dark:border-gray-600"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Total Amount:"}),e.jsxs("span",{className:"font-bold text-lg text-orange-600",children:["₹",(((a==null?void 0:a.rentPerMonth)||8309)*s.duration).toLocaleString()]})]})]})]})]}),l===2&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Guest Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",value:s.guestDetails.name,onChange:t=>m({...s,guestDetails:{...s.guestDetails,name:t.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter your full name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address *"}),e.jsx("input",{type:"email",value:s.guestDetails.email,onChange:t=>m({...s,guestDetails:{...s.guestDetails,email:t.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter your email"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number *"}),e.jsx("input",{type:"tel",value:s.guestDetails.phone,onChange:t=>m({...s,guestDetails:{...s.guestDetails,phone:t.target.value}}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter your phone number"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Special Requests (Optional)"}),e.jsx("textarea",{value:s.specialRequests,onChange:t=>m({...s,specialRequests:t.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 dark:bg-gray-700 dark:text-white",placeholder:"Any special requirements or requests..."})]})]})]}),l===3&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Booking Summary"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[e.jsx("h5",{className:"font-medium mb-3",children:"Booking Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Check-in Date:"}),e.jsx("span",{children:new Date(s.checkInDate).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Duration:"}),e.jsxs("span",{children:[s.duration," month",s.duration>1?"s":""]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Monthly Rent:"}),e.jsxs("span",{children:["₹",((W=a==null?void 0:a.rentPerMonth)==null?void 0:W.toLocaleString())||"8,309"]})]}),e.jsx("hr",{className:"my-2"}),e.jsxs("div",{className:"flex justify-between font-bold",children:[e.jsx("span",{children:"Total Amount:"}),e.jsxs("span",{className:"text-orange-600",children:["₹",(((a==null?void 0:a.rentPerMonth)||8309)*s.duration).toLocaleString()]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[e.jsx("h5",{className:"font-medium mb-3",children:"Guest Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Name:"}),e.jsx("span",{children:s.guestDetails.name})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Email:"}),e.jsx("span",{children:s.guestDetails.email})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Phone:"}),e.jsx("span",{children:s.guestDetails.phone})]})]})]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(X,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Important Notes:"}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsx("li",{children:"• Owner will contact you within 24 hours to confirm availability"}),e.jsx("li",{children:"• Security deposit may be required as per owner's policy"}),e.jsx("li",{children:"• Room visit can be arranged before final booking"}),e.jsx("li",{children:"• Cancellation policy applies as per terms & conditions"})]})]})]})})]})]})]}),e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 p-6",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{l>1?w(l-1):h(!1)},className:"px-6 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:l===1?"Cancel":"Back"}),e.jsxs("button",{onClick:()=>{if(l<3){if(l===1&&!s.checkInDate){o.error("Please select a check-in date");return}if(l===2&&(!s.guestDetails.name||!s.guestDetails.email||!s.guestDetails.phone)){o.error("Please fill in all required fields");return}w(l+1)}else o.success("Booking request submitted! Owner will contact you soon."),h(!1),w(1)},className:"flex-1 px-6 py-2 bg-gradient-to-r from-orange-500 to-pink-500 text-white rounded-lg hover:from-orange-600 hover:to-pink-600 transition-all duration-200 flex items-center justify-center gap-2",children:[l===3?"Confirm Booking":"Next",l<3&&e.jsx(N,{className:"w-4 h-4"})]})]})})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center pt-24",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Room not found"}),e.jsx("button",{type:"button",onClick:()=>g("/rooms"),className:"btn-primary",children:"Back to Rooms"})]})})};export{ve as default};
